<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>4.3_示例 对象属性操作</title>

    <script type="text/javascript" src="/html2/js/underscore-1.8.3.js"></script>
    <script type="text/javascript" src="/html2/js/jquery-3.1.1.js"></script>
    <script type="text/javascript" src="/html2/js/json2.js"></script>
    <script type="text/javascript" src="/html2/js/backbone-1.3.3.js"></script>

</head>
<body>
    <!-- 示例4-11 调用attributes对象获取全部的属性值 -->
    <script type="text/javascript">
        (function () {
            var student = Backbone.Model.extend({
                initialize: function () {
                    // 构造函数
                },
                defaults: {
                    Code: "10001",
                    Name: "张三",
                    Score: 100
                }
            });
            var stuE = new student();
            stuE.set({
                Code: "10106",
                Name: "李小明",
                Score: 650
            });
            // 直接输出attributes对象
            console.log(stuE.attributes);
            // 遍历后输出attributes对象中的每项属性和值
            var attrs = stuE.attributes;
            for (var i in attrs) {
                console.log(i + ":" + stuE.attributes[i]);
            }
        });
    </script>

    <!-- 示例4-12 调用previousAttributes方法返回数据 -->
    <script type="text/javascript">
        $(function () {
            var student = Backbone.Model.extend({
                initialize: function () {
                    // 构造函数
                },
                defaults: {
                    Code: "10001",
                    Name: "张三",
                    Score: 100
                }
            });
            var stuE = new student();
            stuE.set({
                Code: "10106",
                Name: "李小明",
                Score: 650
            });
            console.log(stuE.toJSON());
            console.log(stuE.previousAttributes());
            console.log("------");
            stuE.set({
                Code: "10107",
                Name: "陈天豪",
                Score: 720
            });
            console.log(stuE.toJSON());
            console.log(stuE.previousAttributes());
        });
    </script>
</body>
</html>