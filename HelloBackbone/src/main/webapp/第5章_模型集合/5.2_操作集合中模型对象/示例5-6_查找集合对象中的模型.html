<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>示例5-6_查找集合对象中的模型</title>

<script type="text/javascript" src="/js/underscore-1.8.3.js"></script>
<script type="text/javascript" src="/js/jquery-3.1.1.js"></script>
<script type="text/javascript" src="/js/json2.js"></script>
<script type="text/javascript" src="/js/backbone-1.3.3.js"></script>

<script type="text/javascript">
$(document).ready(function () {
	var student = Backbone.Model.extend({
		defaults: {
			Code: "",
			Name: "",
			Score: 0
		},
		idAttribute: "Code"
	});
	var stumodels = [{
		Code: "10101",
		Name: "刘真真",
		Score: 530
	}, {
		Code: "10102",
		Name: "张明基",
		Score: 660
	}, {
		Code: "10103",
		Name: "舒虎",
		Score: 660
	}, {
		Code: "10104",
		Name: "周小敏",
		Score: 500
	}, {
		Code: "10105",
		Name: "陆明明",
		Score: 300
	}, {
		Code: "10106",
		Name: "占小方",
		Score: 380
	}, {
		Code: "10107",
		Name: "陈天豪",
		Score: 720
	}];
	var stus = new Backbone.Collection(stumodels, {
		model: student
	});
	// 输出全部的模型对象
	console.log("// 输出全部的模型对象");
	_.each(stus.models, function (stu) {
		console.log(stu.toJSON());
	});
	console.log("---------------查询结果---------------");
	// 查找ID号为10106的对象模型
	var find_id_model = stus.get(10106);
	// 查找索引号6的对象模型
	var find_at_model = stus.at(6);
	// 查找与属性名称和值相匹配的对象模型
	var find_0_model = stus.findWhere({
		Score: 660
	});
	var find_1_model = stus.where({
		Score: 660
	}, true);
	var find_2_model = stus.where({
		Score: 660
	}, false);
	// 以对象的形式输出模型内容
	console.log("// 查找ID号为10106的对象模型");
	console.log(find_id_model.toJSON());
	console.log("// 查找索引号6的对象模型");
	console.log(find_at_model.toJSON());
	console.log("// 查找与属性名称和值相匹配的对象模型");
	console.log(find_0_model.toJSON());
	console.log(find_1_model.toJSON());
	_.each(find_2_model, function (m) {
		console.log(m.toJSON());
	});
});
</script>

</head>
<body>
</body>
</html>